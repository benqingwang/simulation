<h1>利用simulation做计算</h1>

<h2>目录</h2>
<ol>
  <li>利用derivative估计函数值</li>
  <li>利用simulation计算复杂的积分问题</li>
  <li>利用simulation计算 $\pi$ 值</li>
</ol>

<h2>Section 1: 利用derivative估计函数值</h2>
我们有一个函数 \( f(x) = 10e^{2x} \)，但是现在假装不知道，只提供下面2个信息。
<ul>
  <li>$f'(x) = 2f(x)$</li>
  <li>$f(0)=10$</li>
</ul>
我们现在要估计f(0.01), f(0.02), ... f(0.10)要怎么办？ 

解答的方法是： 因为 $f(x+h) \approx f(x) + h f'(x)$ 所以有：
<ul>
  <li>$f(x+h) = f(x) + f'(x)h = f(x) + 2f(x)h = f(x)*(1+2h)$</li>
  <li>$f(x+2h) = f(x+h) + f'(x+h)h = f(x+h) + 2f(x+h)h = f(x+h)(1+2h)= f(x)(1+2h)(1+2h) =f(x)*(1+2h)^2$</li>
  <li>可以推理得 $f(x+i*h) = f(x)(1+2h)^i, i = 0, 1, 2, ...$ </li>
</ul>

现在带入 $f(0)=10$, 我们设定h是一个很小的数，比如0.01。这样 $f(0+i * 0.01) = f(0)(1 + 2*0.01)^i, i = 0, 1, 2, ...$ 
<ul>
  <li>$f(0.01) = f(0)(1 + 2 * 0.01)^1 =  10.20$</li>
  <li>$f(0.02) = f(0)(1 + 2 * 0.01)^2 =  10.40$</li>
  <li>$f(0.03) = f(0)(1 + 2 * 0.01)^3 =  10.61$</li>
  <li>$f(0.04) = f(0)(1 + 2 * 0.01)^4 =  10.82$</li>
  <li>$f(0.10) = f(0)(1 + 2 * 0.01)^{10} =  10.19$</li>
</ul>
我们知道实际的函数是 $f(x)=10 \cdot e^{2x}$ ，所以 
<ul>
  <li>$f(0.01) = 10e^{0.02} = 10.20$</li>
  <li>$f(0.02) = 10e^{0.04} = 10.41$</li>
  <li>$f(0.03) = 10e^{0.06} = 10.62$</li>
  <li>$f(0.04) = 10e^{0.08} = 10.83$</li>
  <li>$f(0.10) = 10e^{0.20} = 12.21$</li>
</ul>
可见我们的approximation在i很小的情况下，效果不错的。
